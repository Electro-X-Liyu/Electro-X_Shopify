{% schema %}
{
  "name": "Alkaline-Water",
  "settings": [],
  "blocks": [
    {
      "type": "dual_image_card",
      "name": "双图卡片",
      "settings": [
        {
          "type": "image_picker",
          "id": "image_1",
          "label": "默认显示图片"
        },
        {
          "type": "image_picker",
          "id": "image_2",
          "label": "悬停显示图片"
        },
        {
          "type": "url",
          "id": "card_link",
          "label": "卡片链接"
        },
        {
          "type": "text",
          "id": "alt_text_1",
          "label": "图片1替代文本"
        },
        {
          "type": "text",
          "id": "alt_text_2",
          "label": "图片2替代文本"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "双图悬停卡片",
      "category": "图片展示",
      "blocks": [
        {
          "type": "dual_image_card"
        }
      ]
    }
  ]
}
{% endschema %}

<div class="dual-image-hover-cards">
  {% for block in section.blocks %}
    <div class="dual-image-card" {{ block.shopify_attributes }}>
      <a href="{{ block.settings.card_link | default: '#' }}" class="card-link">
        <div class="image-wrapper">
          {% if block.settings.image_1 %}
            <img src="{{ block.settings.image_1 | img_url: '800x' }}" 
                 alt="{{ block.settings.alt_text_1 | default: 'Image' }}"
                 class="primary-image"
                 loading="lazy"
                 width="800"
                 height="800">
          {% endif %}
          
          {% if block.settings.image_2 %}
            <img src="{{ block.settings.image_2 | img_url: '800x' }}" 
                 alt="{{ block.settings.alt_text_2 | default: 'Image' }}"
                 class="hover-image"
                 loading="lazy"
                 width="800"
                 height="800">
          {% endif %}
        </div>
      </a>
    </div>
  {% endfor %}
</div>

<style>
.dual-image-hover-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
  padding: 20px;
}

.dual-image-card {
  position: relative;
  transition: all 0.3s ease;
  border-radius: 8px;
  overflow: hidden;
}

.card-link {
  display: block;
  position: relative;
}

.image-wrapper {
  position: relative;
  width: 100%;
  padding-top: 100%; /* 保持正方形比例 */
  overflow: hidden;
}

.image-wrapper img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.5s ease, transform 0.5s ease;
}

.hover-image {
  opacity: 0;
}

.dual-image-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.dual-image-card:hover .primary-image {
  opacity: 0;
  transform: scale(1.05);
}

.dual-image-card:hover .hover-image {
  opacity: 1;
  transform: scale(1.03);
}

/* 响应式设计 */
@media (max-width: 768px) {
  .dual-image-hover-cards {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    padding: 15px;
  }
}

@media (max-width: 480px) {
  .dual-image-hover-cards {
    grid-template-columns: 1fr;
    gap: 15px;
    padding: 10px;
  }
}
</style>